<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="https://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      OpenCV-Python 시작하기 &middot; Data Flows in You
    
  </title>

  


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://5hyunkwon.github.io/favicon.png" />
<link rel="shortcut icon" href="https://5hyunkwon.github.io/favicon.png" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->
</head>


  <body class="post">

    <div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Data Flows in You
      </a>
    </div>
    <p class="lead"><a href="https://en.wikipedia.org/wiki/Data_science" target="_blank">Data Scientist</a>: The Sexiest Job of the 21st Century</p>
  </header>
  <nav id="sidebar-nav-links">
  
    <a class="home-link "
        href="/">Home</a>
  
  

  

  


  
    
  

  
    
      <a class="page-link "
          href="/about.html">About</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  

  
    
  

  
    
  


  


  
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/cv.html">Computer Vision</a>
    
  

  
    
  

  

  
    
  

  
    
  

  

  
    
  

  
    
  


  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  

  <nav id="sidebar-icon-links">
  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  <a id="github-link"
    class="icon" title="Github" aria-label="Github"
    href="https://github.com/5hyunkwon"
    target="_blank">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 28" height="24" width="28"><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-0.609 0.109-0.828-0.266-0.828-0.578 0-0.391 0.016-1.687 0.016-3.297 0-1.125-0.375-1.844-0.812-2.219 2.672-0.297 5.484-1.313 5.484-5.922 0-1.313-0.469-2.375-1.234-3.219 0.125-0.313 0.531-1.531-0.125-3.187-1-0.313-3.297 1.234-3.297 1.234-0.953-0.266-1.984-0.406-3-0.406s-2.047 0.141-3 0.406c0 0-2.297-1.547-3.297-1.234-0.656 1.656-0.25 2.875-0.125 3.187-0.766 0.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-0.344 0.313-0.656 0.844-0.766 1.609-0.688 0.313-2.438 0.844-3.484-1-0.656-1.141-1.844-1.234-1.844-1.234-1.172-0.016-0.078 0.734-0.078 0.734 0.781 0.359 1.328 1.75 1.328 1.75 0.703 2.141 4.047 1.422 4.047 1.422 0 1 0.016 1.937 0.016 2.234 0 0.313-0.219 0.688-0.828 0.578-4.766-1.594-8.203-6.094-8.203-11.391 0-6.625 5.375-12 12-12zM4.547 19.234c0.031-0.063-0.016-0.141-0.109-0.187-0.094-0.031-0.172-0.016-0.203 0.031-0.031 0.063 0.016 0.141 0.109 0.187 0.078 0.047 0.172 0.031 0.203-0.031zM5.031 19.766c0.063-0.047 0.047-0.156-0.031-0.25-0.078-0.078-0.187-0.109-0.25-0.047-0.063 0.047-0.047 0.156 0.031 0.25 0.078 0.078 0.187 0.109 0.25 0.047zM5.5 20.469c0.078-0.063 0.078-0.187 0-0.297-0.063-0.109-0.187-0.156-0.266-0.094-0.078 0.047-0.078 0.172 0 0.281s0.203 0.156 0.266 0.109zM6.156 21.125c0.063-0.063 0.031-0.203-0.063-0.297-0.109-0.109-0.25-0.125-0.313-0.047-0.078 0.063-0.047 0.203 0.063 0.297 0.109 0.109 0.25 0.125 0.313 0.047zM7.047 21.516c0.031-0.094-0.063-0.203-0.203-0.25-0.125-0.031-0.266 0.016-0.297 0.109s0.063 0.203 0.203 0.234c0.125 0.047 0.266 0 0.297-0.094zM8.031 21.594c0-0.109-0.125-0.187-0.266-0.172-0.141 0-0.25 0.078-0.25 0.172 0 0.109 0.109 0.187 0.266 0.172 0.141 0 0.25-0.078 0.25-0.172zM8.937 21.438c-0.016-0.094-0.141-0.156-0.281-0.141-0.141 0.031-0.234 0.125-0.219 0.234 0.016 0.094 0.141 0.156 0.281 0.125s0.234-0.125 0.219-0.219z"></path>
</svg>

  </a>

  <!-- Optional additional links to insert for icons links -->
<a id="facebook-link"
   class="icon" title="Facebook" aria-label="Facebook"
   href="https://www.facebook.com/5hyunkwon"
   target="_blank">
   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/></svg>
</a>

<a id="instagram-link"
   class="icon" title="Instagram" aria-label="Instagram"
   href="https://www.instagram.com/5hyun_kwon/"
   target="_blank">
   <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24"><path d="M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"/></svg>
</a>

<a id="linkedin-link"
   class="icon" title="Linkedin" aria-label="Linkedin"
   href="https://www.linkedin.com/in/5hyunkwon/"
   target="_blank">
   <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24"><path d="M20.47,2H3.53A1.45,1.45,0,0,0,2.06,3.43V20.57A1.45,1.45,0,0,0,3.53,22H20.47a1.45,1.45,0,0,0,1.47-1.43V3.43A1.45,1.45,0,0,0,20.47,2ZM8.09,18.74h-3v-9h3ZM6.59,8.48h0a1.56,1.56,0,1,1,0-3.12,1.57,1.57,0,1,1,0,3.12ZM18.91,18.74h-3V13.91c0-1.21-.43-2-1.52-2A1.65,1.65,0,0,0,12.85,13a2,2,0,0,0-.1.73v5h-3s0-8.18,0-9h3V11A3,3,0,0,1,15.46,9.5c2,0,3.45,1.29,3.45,4.06Z"/></svg>
</a>
</nav>

  <p>
  &copy; 2021.
  <a href="/LICENSE.md">MIT License.</a>
</p>

</div>

    <main class="container">
      <header>
  <h1 class="post-title">OpenCV-Python 시작하기</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">13 Jun 2021</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/cv.html">
          Computer Vision
        </a>
      
    
  </span>
</div>


  <div class="post-body">
    <h2 id="1-영상-파일-불러와서-출력하기">1. 영상 파일 불러와서 출력하기</h2>

<p>OpenCV API: <a href="https://docs.opencv.org/master/">https://docs.opencv.org/master/</a></p>

<p><br /></p>

<h3 id="opencv를-이용하여-영상-파일-불러와서-출력하는-프로그램-생성">OpenCV를 이용하여 영상 파일 불러와서 출력하는 프로그램 생성</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Hello, OpenCV"</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="c1"># cat.bmp 파일을 불러와 img 변수에 저장
</span><span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'cat.bmp'</span><span class="p">)</span>

<span class="c1"># 영상 파일 불러오기가 실패하면 에러 메시지를 출력하고 종료
</span><span class="k">if</span> <span class="n">img</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Image load failed!"</span><span class="p">)</span>
    <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>

<span class="c1"># "image"라는 이름의 새 창 만들기
</span><span class="n">cv2</span><span class="p">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">"image"</span><span class="p">)</span>
<span class="c1"># 이 창에 img 영상을 출력
</span><span class="n">cv2</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="s">"image"</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<span class="c1"># 키보드 입력이 있을 때까지 대기
</span><span class="n">cv2</span><span class="p">.</span><span class="n">waitKey</span><span class="p">()</span>

<span class="c1"># 생성된 모든 창을 닫음
</span><span class="n">cv2</span><span class="p">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="영상-파일-불러오기">영상 파일 불러오기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">retval</span>
</code></pre></div></div>

<ul>
  <li>filename: 불러올 영상 파일 이름 (문자열)</li>
  <li>
    <p>flags: 영상 파일 불러오기 옵션 플래그</p>

    <table>
      <thead>
        <tr>
          <th>flags</th>
          <th>기능</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>cv2.IMREAD_COLOR</td>
          <td>BGR 컬러 영상으로 읽기 (기본값)<br />shape=(rows, cols, 3)</td>
        </tr>
        <tr>
          <td>cv2.IMREAD_GRAYSCALE</td>
          <td>그레이스케일 영상으로 읽기<br />shape=(rows, cols)</td>
        </tr>
        <tr>
          <td>cv2.IMREAD_UNCHANGED</td>
          <td>영상 파일 속성 그대로 읽기<br />e.g. 투명한 PNG 파일: shape=(rows, cols, 4)<br />→ alpha channel(투명도 정보)까지 불러오기</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>retval: 불러온 영상 데이터 (numpy.ndarray)</li>
</ul>

<p><br /></p>

<h3 id="영상-파일-저장하기">영상 파일 저장하기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">retval</span>
</code></pre></div></div>

<ul>
  <li>filename: 저장할 영상 파일 이름 (문자열)</li>
  <li>img: 저장할 영상 데이터 (numpy.ndarray)</li>
  <li>params: 파일 저장 옵션 지정 (속성 &amp; 값의 정수 쌍)</li>
</ul>

<p><br /></p>

<h3 id="새-창-띄우기">새 창 띄우기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="n">winname</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</code></pre></div></div>

<ul>
  <li>winname: 창 고유 이름 (문자열)</li>
  <li>
    <p>flags: 창 속성 지정 플래그</p>

    <table>
      <thead>
        <tr>
          <th>flags</th>
          <th>기능</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>cv2.WINDOW_NORMAL</td>
          <td>영상 크기를 창 크기에 맞게 지정</td>
        </tr>
        <tr>
          <td>cv2.IMREAD_GRAYSCALE</td>
          <td>그레이스케일 영상으로 읽기</td>
        </tr>
        <tr>
          <td>cv2.WINDOW_AUTOSIZE</td>
          <td>창 크기를 영상 크기에 맞게 변경 (기본값)</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p><br /></p>

<h3 id="창-닫기">창 닫기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">destroyWindow</span><span class="p">(</span><span class="n">winname</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
<span class="n">cv2</span><span class="p">.</span><span class="n">destroyAllWindows</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</code></pre></div></div>

<ul>
  <li>winname: 닫고자 하는 창 이름</li>
  <li>cv2.destroyWindow(): 지정한 창 하나만 닫기</li>
  <li>cv2.destroyAllWindows(): 열려있는 모든 창 닫기</li>
  <li>일반적으로 프로그램 종료 시 운영 체제에 의해 열려 있는 모든 창이 자동을 닫힘</li>
</ul>

<p><br /></p>

<h3 id="창-위치-이동">창 위치 이동</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">moveWindow</span><span class="p">(</span><span class="n">winname</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</code></pre></div></div>

<ul>
  <li>winname: 창 이름</li>
  <li>x, y: 이동할 위치 좌표</li>
</ul>

<p><br /></p>

<h3 id="창-크기-변경">창 크기 변경</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">resizeWindow</span><span class="p">(</span><span class="n">winname</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</code></pre></div></div>

<ul>
  <li>winname: 창 이름</li>
  <li>width: 변경할 창의 가로 크기</li>
  <li>height: 변경할 창의 세로 크기</li>
  <li>창 생성 시 cv2.WINDOW_NORMAL 속성으로 생성되어야 동작</li>
  <li>영상 출력 부분의 크기만 고려함 (제목 표시줄, 창 경계는 고려되지 않음)</li>
</ul>

<p><br /></p>

<h3 id="영상-출력하기">영상 출력하기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">winname</span><span class="p">,</span> <span class="n">mat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</code></pre></div></div>

<ul>
  <li>winname: 영상을 출력할 대상 창 이름
    <ul>
      <li>만약, winname에 해당하는 창이 없으면(cv2.namedWindow()로 생성 안했을 때) 창을 새로 만들어서 영상 출력</li>
    </ul>
  </li>
  <li>mat: 출력할 영상 데이터 (numpy.ndarray)</li>
  <li>uint16, int32 자료형 행렬의 경우, 행렬 원소 값을 255로 나눠서 출력 (정수는 0 ~ 255 사이로 가정)</li>
  <li>float32, float64 자료형 행렬의 경우, 행렬 원소 값에 255를 곱해서 출력 (실수는 0 ~ 1 사이로 가정)</li>
  <li>Windows 운영 체제에서는 Ctrl + C (복사), Ctrl + S (저장) 지원</li>
  <li>실제로는 cv2.waitKey() 함수를 호출해야 화면에 영상이 나타남
    <ul>
      <li>단순히 cv2.imshow()만 실행하면 화면이 뜨고 바로 사라짐</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="키보드-입력-대기">키보드 입력 대기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv2</span><span class="p">.</span><span class="n">waitKey</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">retval</span>
</code></pre></div></div>

<ul>
  <li>delay: 밀리초 단위 대기 시간
    <ul>
      <li>delay ≤ 0 이면 무한히 기다림</li>
      <li>기본값은 0</li>
    </ul>
  </li>
  <li>retval: 눌린 키 값(ASCII code)
    <ul>
      <li>키가 눌리지 않으면 -1</li>
    </ul>
  </li>
  <li>cv2.waitkey() 함수는 OpenCV 창이 하나라도 있을 때 동작</li>
  <li>특정 키 입력을 확인하려면 ord() 함수 이용</li>
  <li>주요 특수키 코드: 27(ESC), 13(ENTER), 9(TAB)</li>
</ul>

<p><br /></p>

<h3 id="matplotlib-사용하여-영상-출력하기">Matplotlib 사용하여 영상 출력하기</h3>

<ul>
  <li>컬러 영상 출력
    <ul>
      <li>컬러 영상 색상 정보가 RGB 순서이어야 함</li>
      <li>cv2.imread() 함수로 불러온 영상은 BGR 순서이므로 RGB 순서로 변경해야 함 → cv2.cvtColor() 함수 이용</li>
    </ul>
  </li>
  <li>그레이스케일 영상 출력
    <ul>
      <li>plt.imshow() 함수에서 컬러맵을 cmap=’gray’로 지정</li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># 컬러 영상 출력
</span><span class="n">imgBGR</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'cat.bmp'</span><span class="p">)</span>
<span class="c1"># BGR 순서를 RGB 순서로 변경
</span><span class="n">imgRGB</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">imgBGR</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'off'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgRGB</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 그레이스케일 영상 출력
# 2차원 행렬의 밝기값만 저장
</span><span class="n">imgGray</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'cat.bmp'</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">IMREAD_GRAYSCALE</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'off'</span><span class="p">)</span>
<span class="c1"># cmap='gray' 해주어야 그레이스케일 출력 가능
</span><span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'gray'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 두 개의 영상을 함께 출력
# plt.subplot(행개수 열개수 순번)
</span><span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">),</span> <span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'off'</span><span class="p">),</span> <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgRGB</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">),</span> <span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'off'</span><span class="p">),</span> <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'gray'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="이미지-슬라이드쇼">이미지 슬라이드쇼</h3>

<ul>
  <li>특정 폴더에 있는 이미지 파일(*.jpg) 목록 읽기
    <ul>
      <li>os.listdir()</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">os</span>

  <span class="n">file_list</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">'./images'</span><span class="p">)</span>
  <span class="c1"># jpg만 발라내기
</span>  <span class="n">img_files</span> <span class="o">=</span> <span class="p">[</span><span class="nb">file</span> <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">file_list</span> <span class="k">if</span> <span class="nb">file</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">'.jpg'</span><span class="p">)]</span>
</code></pre></div>    </div>

    <ul>
      <li>glob.glob()</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">glob</span>

  <span class="c1"># 특정 패턴 문자열 불러오기
</span>  <span class="n">img_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">.</span><span class="n">glob</span><span class="p">(</span><span class="s">'./images/*.jpg'</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>전체 화면 영상 출력 창 만들기</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 전체 화면으로 'image' 창 생성
# 전체화면 가능하게 하기 위해 cv2.WINDOW_NORMAL 속성으로 설정
</span><span class="n">cv2</span><span class="p">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">'image'</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WINDOW_NORMAL</span><span class="p">)</span>
<span class="c1"># 전체화면 속성 설정
</span><span class="n">cv2</span><span class="p">.</span><span class="n">setWindowProperty</span><span class="p">(</span><span class="s">'image'</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WND_PROP_FULLSCREEN</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WINDOW_FULLSCREEN</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>이미지 슬라이드쇼 전체 코드</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># 이미지 파일을 모두 img_files 리스트에 추가
# glob.glob(): 특정 패턴 문자열 불러오기
</span><span class="n">img_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">.</span><span class="n">glob</span><span class="p">(</span><span class="s">'./images/*.jpg'</span><span class="p">)</span>

<span class="c1"># 파일 이름 리스트 출력해서 확인해보기
</span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">img_files</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">img_files</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"There are no jpg files in 'images' folder"</span><span class="p">)</span>
    <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>

<span class="c1"># 전체 화면으로 'image' 창 생성
# 전체화면 가능하게 하기 위해 cv2.WINDOW_NORMAL 속성으로 설정
</span><span class="n">cv2</span><span class="p">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">'image'</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WINDOW_NORMAL</span><span class="p">)</span>
<span class="c1"># 전체화면 속성 설정
</span><span class="n">cv2</span><span class="p">.</span><span class="n">setWindowProperty</span><span class="p">(</span><span class="s">'image'</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WND_PROP_FULLSCREEN</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">WINDOW_FULLSCREEN</span><span class="p">)</span>

<span class="c1"># 무한 루프
# 파일 개수 변수 만들기
</span><span class="n">cnt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">img_files</span><span class="p">)</span>
<span class="c1"># 인덱스 변수 만들기
</span><span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c1"># 이미지 불러오기
</span>    <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_files</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>

    <span class="c1"># 제대로 불러왔는지 확인
</span>    <span class="k">if</span> <span class="n">img</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Image load failed!'</span><span class="p">)</span>
        <span class="k">break</span>

    <span class="c1"># 이미지 출력하기
</span>    <span class="n">cv2</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="s">'image'</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
    <span class="c1"># 대기 시간 1초(1000ms)
</span>    <span class="c1"># 만약 1초를 기다렸는데 ESC키가 눌러지지 않는 경우 -1을 리턴하여 계속 while 루프를 돌게 함
</span>    <span class="k">if</span> <span class="n">cv2</span><span class="p">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">==</span> <span class="mi">27</span><span class="p">:</span>  <span class="c1"># ESC
</span>        <span class="k">break</span>

    <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c1"># 인덱스가 개수보다 커지거나 같은 경우 0으로 초기화
</span>    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;=</span> <span class="n">cnt</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">cv2</span><span class="p">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div>

<p><br /></p>

    



<div class="post-tags">
  
    
    <a href="/tags.html#computer-vision">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">computer vision</span>
    </a>
  
    
    <a href="/tags.html#opencv">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">OpenCV</span>
    </a>
  
    
    <a href="/tags.html#python">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">python</span>
    </a>
  
</div>
  </div>

  
  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    
      <li>
        <h3>
          <a href="/computer%20vision/2021/07/20/Pytorch-Computer-Vision-Ch01.html">
            Pytorch Computer Vision Ch01
            <small>20 Jul 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/09/28/03_Maximum_Sales_Probability_Matching_Algorithm.html">
            2020 Big Contest - 3
            <small>28 Sep 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/09/28/02_NS_shop_code_final.html">
            2020 Big Contest - 2
            <small>28 Sep 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</section>

</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
